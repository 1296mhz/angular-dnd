## Angular-DND 0.1.2

## Особенности:
- Не jQueryUI обертка
- Поддержка touch событий


## Директивы:

### dnd-draggable
Обеспечивает возможность перемещения элемента

#### Параметры (задаются в виде объекта, callbacks задаются в кавычках):
- onstart() - функция, срабатывающая в начале движения элемента 
- ondrag() - функция, срабатывающая при движении элемента 
- onend() - функция, срабатывающая в конце движения элемента 
- ns - Имя namespace. Что бы droppable-элементы реагировали на draggable-элементы они должны иметь общий namespace. По умолчанию namespace = 'common'

#### scope:
- $dragged [boolean] - флаг, который позволяют узнать было ли движение элемента в течении последнего цикла событий (последние ~5мс). Удобно использовать например в ng-click (см. пример).
- $dropmodel [mixed] - модель droppable элемента, заданная в директиве dnd-model
	


### dnd-droppable
Позволяет определить droppable-элемент, который будет реагировать на draggable-элементы

#### Параметры (задаются в виде объекта, callbacks задаются в кавычках):
- onenter() - функция, срабатывающая при попадании draggable-элемента в пределы droppable-элемента 
- onover() - функция, срабатывающая при движении draggable-элемента внутри droppable-элемента 
- onleave() - функция, срабатывающая при выходе draggable-элемента за пределы droppable-элемента 
- ondrop() - функция, срабатывающая если отпустить draggable-элемент внутри границ droppable-элемента 
- ns - Имя namespace. Что бы droppable-элементы реагировали на draggable-элементы они должны иметь общий namespace. По умолчанию namespace = 'common'

#### scope:
- $dragmodel [mixed] модель draggable элемента, заданая в директиве dnd-model



### dnd-rotatable
Обеспечивает возможность вращения элемента

#### Параметр (задается в виде объекта, callbacks задаются в кавычках):
- onstart() - функция, срабатывающая в начале вращения элемента 
- ondrag() - функция, срабатывающая при вращении элемента 
- onend() - функция, срабатывающая в конце вращения элемента 

#### scope:
- $rotated [boolean] - флаг, который позволяют узнать вращался ли элемент в течении последнего цикла событий (последние ~5мс). Удобно использовать например в ng-click (см. пример).




### dnd-resizable
Обеспечивает возможность изменения размеров элемента

#### Параметр (задаются в виде объекта, callbacks задаются в кавычках):
- onstart() - функция, срабатывающая в начале изменения размеров элемента 
- ondrag() - функция, срабатывающая при изменении размеров элемента 
- onend() - функция, срабатывающая в конце изменения размеров элемента 

#### scope:
- $resized [boolean] - флаг, который позволяют узнать было ли изменение размеров элемента в течении последнего цикла событий (последние ~5мс). Удобно использовать например в ng-click (см. пример).




### dnd-rect
Директива, которая представляет собой модель элемента, описывающую его координаты относительно верхнего левого угла, размеры и матрицу преобразования (top, left, width, height, transform).
Директивы dnd-draggable, dnd-resizable, dnd-rotatable, dnd-fittext, а также dnd-selectable(опционально) работают в связке с dnd-rect.

#### Параметр (строка): 
 - имя переменной в scope



### dnd-container 
Ограничивает область действия draggable/resizable/rotatable элементов. По умолчанию контейнером служит body.




### dnd-model (предназначена для совместного использования в draggable и droppable элементах)
Директива, которая содержит в себе модель draggable/droppable объекта (см. примеры)

#### Параметр (строка): 
- имя переменной в scope





### dnd-lasso-area
Директива, предназначенная для создания rect моделей с помощью инструмента lasso. Также эта директива работает в паре с selectable директивой (в роли контейнера) (см. пример)

Параметр (задаются в виде объекта, callbacks задаются в кавычках):
- onstart() - функция, срабатывающая в начале изменения размеров элемента. В отличии от dragable, resizable и rotatable директив, где start событие срабатывет после начала движения манипулятора (mousemove/touchmove) здесь началом считаются события mousedown/touchstart
- ondrag() - функция, срабатывающая при изменении размеров элемента 
- onend() - функция, срабатывающая в конце изменения размеров элемента 

#### scope:
- $dragged [boolean] - флаг, который позволяют узнать было ли движение lasso в течении последнего цикла событий (последние ~5мс). Удобно использовать например в ng-click (см. пример).



### dnd-selectable
Директива, позволяющая выделять объекты. Как инструмент выделения используется lasso (см. пример). 
Последователбность событий: если click - selected(true/false). Если не click - selecting(true) -> selected(true/false) -> selecting(false)

Требование:
- dnd-lasso-area как родительский элемент

#### Параметр (задается в виде объекта, callbacks задаются в кавычках):
- selected(): срабатывает при изменении значения scope.$selected c false на true
- unselected(): срабатывает при изменении значения scope.$selected c true на false
- selecting(): срабатывает при изменении значения scope.$selecting c false на true
- unselecting(): срабатывает при изменении значения scope.$selecting c true на false

#### scope:
- $selected [boolean]
- $selecting [boolean]
- $select [function] функция для управления флагом selected (см. пример)
- $unselect [function] функция для управления флагом selected (см. пример)




### dnd-fittext
Отличная директива для подгонки текста под размер блока (удобно с resizable элементами), в котором этот текст находится.
за единственный аргумент функция принимает объект rect, содержащий в себе 
На основе этих параметров идет расчет высоты шрифта.
Также директва поддерживает дополнительные атрибуты-настройки: dnd-fittext-max и dnd-fittext-min, которые позволяют задать максимальное и минимальное соответственно значения шрифта в пикселях. 

#### Параметр:
- имя переменной scope изменение величины которой служит тригером (может быть объектом, например {width: rect.width, height: rect.height} или строкой, например rect.height, где rect это модель, определенная в атрибуте dnd-rect , см. пример). 




## Сервисы:

### DndLasso
Сервис-класс, предназначенный для обеспечения директивам интерфейса к одноименному инструменту прямоугольного lasso


## Примеры
 все примеры внутри в папке Demo.


## TODO:
 - fixing bugs and optimize code
 - more options
 - new directive - sortable
 - touch specific events (rotate, resize)
 - supporting ng-animate
 - translate to english