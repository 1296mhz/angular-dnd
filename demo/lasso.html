<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Angular-DnD Lasso example</title>

<link rel="stylesheet" href="demo.css" />


<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.js"></script>

<link rel="stylesheet" href="../css/stylesheet.css" />
<script type="text/javascript" src = "../js/angular-dnd.js"></script>



<script type="text/javascript">

	var app = angular.module('app', ['dnd']);

    app.controller('controller', function($scope){
        var models = $scope.models = [];

        $scope.createRect = function(rect){
            models.push({
                rect:rect,
                selected: false,
                selecting: false
            });
        };

        $scope.onSelecting = function(model){
            model.selecting = true;
            //console.log('selecting');
        };

        $scope.onUnselecting = function(model){
            model.selecting = false;
            //console.log('unselecting');
        };

        $scope.onSelected = function(model){
            model.selected = true;
            //console.log('selected');
        };

        $scope.onUnselected = function(model){
            model.selected = false;
           // console.log('unselected');
        };
    });

   // (function(){
    //    setTimeout(function(){

    //        var a = document.querySelectorAll('.lasso-area');

    //        angular.element(a).on('click', function(){
               // debugger
                //console.log('click lasso');

     //       })
//
      //      angular.element.prototype.click = function(){
               // console.log('new click');

       //     }

       //     console.log('binded');

       // },3000)




  //  })()


</script>

</head>



<body ng-controller="controller" style = "position: relative">

    <div class = "menu">

        <a class = "button" href = "basic.html">Basic example</a>
        <a class = "button" href = "lasso.html">Lasso example</a>

    </div>

    <div class = "title"> Some lasso examples </div>

    <div class = "lasso-area" dnd-lasso-area = "createRect($rect)" dnd-rect = "test123">
        <div class = "article"> Creating lasso </div>

    </div>

    <div class = "lasso-area" dnd-lasso-area>
        <div class = "article"> Selecting lasso </div>
        <div class = "lasso-area-creature" 
	        ng-repeat = "model in models" 
	        dnd-rect = "model.rect" 
	        ng-class = "{selected: model.selected, selecting: model.selecting}"
			dnd-selectable = "{ selecting: 'onSelecting(model)', unselecting: 'onUnselecting(model)', selected: 'onSelected(model)', unselected: 'onUnselected(model)' }"
            dnd-draggable>
        </div>
    </div>

</body>
</html>
